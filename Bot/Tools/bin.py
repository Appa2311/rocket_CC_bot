import base64
exec(base64.b64decode("aW1wb3J0IHJlcXVlc3RzCmltcG9ydCB0ZWxlYm90CgoKZGVmIGdldF9iaW5faW5mbyhib3QsbWVzc2FnZSk6CiAgICB0cnk6CiAgICAgICAgIyBFeHRyYWN0IEJJTiAoZmlyc3QgNiBkaWdpdHMpIGZyb20gdXNlciBtZXNzYWdlCiAgICAgICAgYXJncyA9IG1lc3NhZ2UudGV4dC5zcGxpdCgpCiAgICAgICAgaWYgbGVuKGFyZ3MpIDwgMiBvciBub3QgYXJnc1sxXS5pc2RpZ2l0KCkgb3IgbGVuKGFyZ3NbMV0pIDwgNjoKICAgICAgICAgICAgYm90LnJlcGx5X3RvKG1lc3NhZ2UsICLinYwgUGxlYXNlIHByb3ZpZGUgYSB2YWxpZCAqKjYtZGlnaXQgQklOKiouXG5FeGFtcGxlOiBgL2JpbiA0NTcxNzNgIiwgcGFyc2VfbW9kZT0iTWFya2Rvd24iKQogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgYmluX251bWJlciA9IGFyZ3NbMV1bOjZdICAjIEV4dHJhY3Qgb25seSB0aGUgZmlyc3QgNiBkaWdpdHMKCiAgICAgICAgIyBSZXF1ZXN0IEJJTiBpbmZvIGZyb20gQVBJCiAgICAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQoZidodHRwczovL2JpbnMuYW50aXB1YmxpYy5jYy9iaW5zL3tiaW5fbnVtYmVyfScpCiAgICAgICAgaWYgcmVzcG9uc2Uuc3RhdHVzX2NvZGUgIT0gMjAwOgogICAgICAgICAgICBib3QucmVwbHlfdG8obWVzc2FnZSwgIuKdjCBGYWlsZWQgdG8gZmV0Y2ggQklOIGRhdGEuIFRyeSBhZ2FpbiBsYXRlci4iKQogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgZGF0YSA9IHJlc3BvbnNlLmpzb24oKQogICAgICAgIAogICAgICAgIAogICAgICAgICMgSGFuZGxlIEFQSSByZXNwb25zZQogICAgICAgIGlmIG5vdCBkYXRhIG9yICJlcnJvciIgaW4gZGF0YToKICAgICAgICAgICAgYm90LnJlcGx5X3RvKG1lc3NhZ2UsIGYi4pqgIE5vIGRhdGEgZm91bmQgZm9yIEJJTjogYHtiaW5fbnVtYmVyfWAiLCBwYXJzZV9tb2RlPSJNYXJrZG93biIpCiAgICAgICAgICAgIHJldHVybgoKICAgICAgICAjIEV4dHJhY3QgaW5mb3JtYXRpb24KICAgICAgICBiYW5rID0gZGF0YS5nZXQoImJhbmsiLCAiTi9BIikKICAgICAgICBjb3VudHJ5ID0gZGF0YS5nZXQoImNvdW50cnkiLCAiTi9BIikKICAgICAgICBzY2hlbWUgPSBkYXRhLmdldCgic2NoZW1lIiwgIk4vQSIpCiAgICAgICAgdHlwZV8gPSBkYXRhLmdldCgidHlwZSIsICJOL0EiKQogICAgICAgIGxldmVsID0gZGF0YS5nZXQoImxldmVsIiwgIk4vQSIpCiAgICAgICAgCiAgICAgICAgIyBGb3JtYXQgcmVzcG9uc2UKICAgICAgICBiaW5faW5mbyA9IGYiIiIKPGI+8J+SsyBCSU4gTG9va3VwIFJlc3VsdDwvYj4K4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSBCvCflKIgPGI+QklOOjwvYj4ge2Jpbl9udW1iZXJ9CvCfj6YgPGI+QmFuazo8L2I+IHtiYW5rfQrwn4yNIDxiPkNvdW50cnk6PC9iPiB7Y291bnRyeX0K8J+PtyA8Yj5UeXBlOjwvYj4ge3R5cGVffQrwn5KzIDxiPkNhcmQgTGV2ZWw6PC9iPiB7bGV2ZWx9CvCfm6AgPGI+U2NoZW1lOjwvYj4ge3NjaGVtZX0K4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSBCiIiIgogICAgICAgIGJvdC5yZXBseV90byhtZXNzYWdlLCBiaW5faW5mbywgcGFyc2VfbW9kZT0iSFRNTCIpCgogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGJvdC5yZXBseV90byhtZXNzYWdlLCBmIuKdjCBFcnJvcjoge3N0cihlKX0iKQoKCgpkZWYgZ2V0X2JpbihjYyk6CiAgICB0cnk6CiAgICAgICAgIyBFbnN1cmUgJ2NjJyBpcyBhIHN0cmluZyBhbmQgbG9uZyBlbm91Z2gKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShjYywgc3RyKSBvciBsZW4oY2MpIDwgNjoKICAgICAgICAgICAgcHJpbnQoIuKdjCBJbnZhbGlkIGNhcmQgbnVtYmVyIGZvcm1hdCIpCiAgICAgICAgICAgIHJldHVybiBOb25lCiAgICAgICAgCiAgICAgICAgYmluX251bWJlciA9IGNjWzo2XSAgIyBGaXJzdCA2IGRpZ2l0cwoKICAgICAgICByZXNwb25zZSA9IHJlcXVlc3RzLmdldChmJ2h0dHBzOi8vYmlucy5hbnRpcHVibGljLmNjL2JpbnMve2Jpbl9udW1iZXJ9JykKICAgICAgICAKICAgICAgICAjIENoZWNrIGlmIEFQSSByZXF1ZXN0IHdhcyBzdWNjZXNzZnVsCiAgICAgICAgaWYgcmVzcG9uc2Uuc3RhdHVzX2NvZGUgIT0gMjAwOgogICAgICAgICAgICBwcmludChmIuKdjCBBUEkgRXJyb3I6IHtyZXNwb25zZS5zdGF0dXNfY29kZX0iKQogICAgICAgICAgICByZXR1cm4gTm9uZQogICAgICAgIAogICAgICAgIHRyeToKICAgICAgICAgICAgZGF0YSA9IHJlc3BvbnNlLmpzb24oKSAgIyBDb252ZXJ0IHJlc3BvbnNlIHRvIEpTT04KICAgICAgICAgICAgCiAgICAgICAgICAgIHJldHVybiBkYXRhCiAgICAgICAgZXhjZXB0IFZhbHVlRXJyb3I6CiAgICAgICAgICAgIHByaW50KCLinYwgRmFpbGVkIHRvIGRlY29kZSBKU09OIHJlc3BvbnNlIikKICAgICAgICAgICAgcmV0dXJuIE5vbmUKCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcHJpbnQoZiLinYwgRXJyb3I6IHtlfSIpCiAgICAgICAgcmV0dXJuIE5vbmU=").decode())