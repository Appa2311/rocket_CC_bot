import base64
exec(base64.b64decode("aW1wb3J0IHJlcXVlc3RzCgpkZWYgZm9ybWF0X2JhbGFuY2UoYmFsYW5jZV9kYXRhKToKICAgICIiIkZvcm1hdCBTdHJpcGUgYmFsYW5jZSByZXNwb25zZSB0byByZWFkYWJsZSB0ZXh0LiIiIgogICAgZm9ybWF0dGVkX2JhbGFuY2UgPSBbXQogICAgZm9yIGVudHJ5IGluIGJhbGFuY2VfZGF0YToKICAgICAgICBhbW91bnQgPSBlbnRyeS5nZXQoJ2Ftb3VudCcsIDApIC8gMTAwICAjIENvbnZlcnQgY2VudHMgdG8gZG9sbGFycwogICAgICAgIGN1cnJlbmN5ID0gZW50cnkuZ2V0KCdjdXJyZW5jeScsICd1bmtub3duJykudXBwZXIoKQogICAgICAgIGZvcm1hdHRlZF9iYWxhbmNlLmFwcGVuZChmInthbW91bnQ6LjJmfSB7Y3VycmVuY3l9IikKCiAgICByZXR1cm4gIiB8ICIuam9pbihmb3JtYXR0ZWRfYmFsYW5jZSkgaWYgZm9ybWF0dGVkX2JhbGFuY2UgZWxzZSAiTi9BIgoKZGVmIHNrKHN0cmlwZV9zZWNyZXRfa2V5KToKICAgIHVybF9iYWxhbmNlID0gImh0dHBzOi8vYXBpLnN0cmlwZS5jb20vdjEvYmFsYW5jZSIKICAgIHVybF9hY2NvdW50ID0gImh0dHBzOi8vYXBpLnN0cmlwZS5jb20vdjEvYWNjb3VudCIKICAgIGhlYWRlcnMgPSB7IkF1dGhvcml6YXRpb24iOiBmIkJlYXJlciB7c3RyaXBlX3NlY3JldF9rZXl9In0KCiAgICByZXNwb25zZV9iYWxhbmNlID0gcmVxdWVzdHMuZ2V0KHVybF9iYWxhbmNlLCBoZWFkZXJzPWhlYWRlcnMpCiAgICByZXNwb25zZV9hY2NvdW50ID0gcmVxdWVzdHMuZ2V0KHVybF9hY2NvdW50LCBoZWFkZXJzPWhlYWRlcnMpCgogICAgaWYgcmVzcG9uc2VfYmFsYW5jZS5zdGF0dXNfY29kZSA9PSAyMDAgYW5kIHJlc3BvbnNlX2FjY291bnQuc3RhdHVzX2NvZGUgPT0gMjAwOgogICAgICAgIGJhbGFuY2VfZGF0YSA9IHJlc3BvbnNlX2JhbGFuY2UuanNvbigpCiAgICAgICAgYWNjb3VudF9pbmZvID0gcmVzcG9uc2VfYWNjb3VudC5qc29uKCkKCiAgICAgICAgYXZhaWxhYmxlX2JhbGFuY2UgPSBmb3JtYXRfYmFsYW5jZShiYWxhbmNlX2RhdGEuZ2V0KCdhdmFpbGFibGUnLCBbXSkpCiAgICAgICAgcGVuZGluZ19iYWxhbmNlID0gZm9ybWF0X2JhbGFuY2UoYmFsYW5jZV9kYXRhLmdldCgncGVuZGluZycsIFtdKSkKCiAgICAgICAgcmVzdWx0ID0gZiIiIuKchSA8Yj5WYWxpZCBTdHJpcGUgS2V5ITwvYj4KCvCflLkgPGI+QWNjb3VudCBJRDo8L2I+IDxjb2RlPnthY2NvdW50X2luZm8uZ2V0KCdpZCcsICdOL0EnKX08L2NvZGU+CvCflLkgPGI+QnVzaW5lc3MgTmFtZTo8L2I+IDxjb2RlPnthY2NvdW50X2luZm8uZ2V0KCdidXNpbmVzc19uYW1lJywgJ04vQScpfTwvY29kZT4K8J+UuSA8Yj5Db3VudHJ5OjwvYj4gPGNvZGU+e2FjY291bnRfaW5mby5nZXQoJ2NvdW50cnknLCAnTi9BJyl9PC9jb2RlPgrwn5S5IDxiPlR5cGU6PC9iPiA8Y29kZT57YWNjb3VudF9pbmZvLmdldCgndHlwZScsICdOL0EnKX08L2NvZGU+CvCflLkgPGI+UGF5b3V0cyBFbmFibGVkOjwvYj4gPGNvZGU+e2FjY291bnRfaW5mby5nZXQoJ3BheW91dHNfZW5hYmxlZCcsICdOL0EnKX08L2NvZGU+CvCflLkgPGI+Q2hhcmdlcyBFbmFibGVkOjwvYj4gPGNvZGU+e2FjY291bnRfaW5mby5nZXQoJ2NoYXJnZXNfZW5hYmxlZCcsICdOL0EnKX08L2NvZGU+Cgrwn5KwIDxiPkJhbGFuY2UgQXZhaWxhYmxlOjwvYj4gPGNvZGU+e2F2YWlsYWJsZV9iYWxhbmNlfTwvY29kZT4K8J+SsCA8Yj5CYWxhbmNlIFBlbmRpbmc6PC9iPiA8Y29kZT57cGVuZGluZ19iYWxhbmNlfTwvY29kZT4iIiIKCiAgICBlbHNlOgogICAgICAgIGVycm9yX2RhdGEgPSByZXNwb25zZV9iYWxhbmNlLmpzb24oKSBpZiByZXNwb25zZV9iYWxhbmNlLnN0YXR1c19jb2RlICE9IDIwMCBlbHNlIHJlc3BvbnNlX2FjY291bnQuanNvbigpCiAgICAgICAgZXJyb3JfbWVzc2FnZSA9IGVycm9yX2RhdGEuZ2V0KCdlcnJvcicsIHt9KS5nZXQoJ21lc3NhZ2UnLCAnVW5rbm93biBFcnJvcicpCgogICAgICAgIHJlc3VsdCA9IGYiIiLinYwgPGI+SW52YWxpZCBvciBFeHBpcmVkIEtleSE8L2I+CvCflLQgPGI+RXJyb3I6PC9iPiA8Y29kZT57ZXJyb3JfbWVzc2FnZX08L2NvZGU+IiIiCgogICAgcmV0dXJuIHJlc3VsdA==").decode())