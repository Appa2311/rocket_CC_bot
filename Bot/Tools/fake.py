import base64
exec(base64.b64decode("aW1wb3J0IHRlbGVib3QKZnJvbSBmYWtlciBpbXBvcnQgRmFrZXIKCgoKQ09VTlRSWV9NQVAgPSB7CiAgICAidXNhIjogImVuX1VTIiwgInVrIjogImVuX0dCIiwgImNhbmFkYSI6ICJlbl9DQSIsICJhdXN0cmFsaWEiOiAiZW5fQVUiLAogICAgImdlcm1hbnkiOiAiZGVfREUiLCAiZnJhbmNlIjogImZyX0ZSIiwgInNwYWluIjogImVzX0VTIiwgIml0YWx5IjogIml0X0lUIiwKICAgICJuZXRoZXJsYW5kcyI6ICJubF9OTCIsICJiZWxnaXVtIjogIm5sX0JFIiwgImluZGlhIjogImVuX0lOIiwgImNoaW5hIjogInpoX0NOIiwKICAgICJqYXBhbiI6ICJqYV9KUCIsICJrb3JlYSI6ICJrb19LUiIsICJydXNzaWEiOiAicnVfUlUiLCAiYnJhemlsIjogInB0X0JSIiwKICAgICJtZXhpY28iOiAiZXNfTVgiLCAiYXJnZW50aW5hIjogImVzX0FSIiwgInN3aXR6ZXJsYW5kIjogImRlX0NIIiwgInN3ZWRlbiI6ICJzdl9TRSIsCiAgICAicG9sYW5kIjogInBsX1BMIiwgInR1cmtleSI6ICJ0cl9UUiIsICJkZW5tYXJrIjogImRhX0RLIiwgIm5vcndheSI6ICJuYl9OTyIsCiAgICAiZmlubGFuZCI6ICJmaV9GSSIsICJwb3J0dWdhbCI6ICJwdF9QVCIsICJlZ3lwdCI6ICJhcl9FRyIsICJzYXVkaSI6ICJhcl9TQSIsCiAgICAiZ3JlZWNlIjogImVsX0dSIiwgImlzcmFlbCI6ICJoZV9JTCIsICJodW5nYXJ5IjogImh1X0hVIiwgImluZG9uZXNpYSI6ICJpZF9JRCIsCiAgICAicm9tYW5pYSI6ICJyb19STyIsICJzb3V0aGFmcmljYSI6ICJlbl9aQSIsICJ0aGFpbGFuZCI6ICJ0aF9USCIsICJ2aWV0bmFtIjogInZpX1ZOIgp9CgoKCmRlZiBzZW5kX2NvdW50cnlfY29kZXMobWVzc2FnZSwgYm90KToKICAgIGNvdW50cnlfbGlzdCA9ICJcbiIuam9pbihbZiJge2tleX1gIC0gYHt2YWx1ZX1gIiBmb3Iga2V5LCB2YWx1ZSBpbiBDT1VOVFJZX01BUC5pdGVtcygpXSkKICAgIGJvdC5yZXBseV90byhtZXNzYWdlLCBmIkF2YWlsYWJsZSBjb3VudHJ5IGNvZGVzOlxue2NvdW50cnlfbGlzdH0iLCBwYXJzZV9tb2RlPSJNYXJrZG93biIpCgoKCmRlZiBzZW5kX2Zha2VfZGV0YWlscyhtZXNzYWdlLGJvdCk6CiAgICB0cnk6CiAgICAgICAgY29tbWFuZF9wYXJ0cyA9IG1lc3NhZ2UudGV4dC5zcGxpdCgpCiAgICAgICAgaWYgbGVuKGNvbW1hbmRfcGFydHMpIDwgMjoKICAgICAgICAgICAgYm90LnJlcGx5X3RvKG1lc3NhZ2UsICJVc2FnZTogL2Zha2UgW2NvdW50cnlfY29kZV1cbkV4YW1wbGU6IC9mYWtlIHVzYVxuVXNlIC9jb3VudHJ5Y29kZSB0byBzZWUgYWxsIGNvZGUiKQogICAgICAgICAgICByZXR1cm4KICAgICAgICAKICAgICAgICBjb3VudHJ5ID0gY29tbWFuZF9wYXJ0c1sxXS5sb3dlcigpCiAgICAgICAgY291bnRyeV9jb2RlID0gQ09VTlRSWV9NQVAuZ2V0KGNvdW50cnkpCgogICAgICAgIGlmIG5vdCBjb3VudHJ5X2NvZGU6CiAgICAgICAgICAgIGJvdC5yZXBseV90byhtZXNzYWdlLCBmIkludmFsaWQgY291bnRyeSBjb2RlLiBVc2UgL2NvdW50cnljb2RlIHRvIHNlZSBhdmFpbGFibGUgY29kZXMuIikKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIGZha2UgPSBGYWtlcihjb3VudHJ5X2NvZGUpCiAgICAgICAgZmFrZV9kYXRhID0gKAogICAgIvCfk4wgKkZha2UgQWRkcmVzcyBEZXRhaWxzKlxuXG4iCiAgICBmIvCfkaQgKk5hbWU6KiBge2Zha2UubmFtZSgpfWBcbiIKICAgIGYi8J+PoCAqQWRkcmVzczoqIGB7ZmFrZS5hZGRyZXNzKCkucmVwbGFjZSgnXG4nLCAnLCAnKX1gXG4iCiAgICBmIvCfj5nvuI8gKkNpdHk6KiBge2Zha2UuY2l0eSgpfWBcbiIKICAgIGYi8J+TjSAqU3RhdGU6KiBge2dldGF0dHIoZmFrZSwgJ3N0YXRlJywgbGFtYmRhOiAnTi9BJykoKX1gXG4iCiAgICBmIvCfk6YgKlppcCBDb2RlOiogYHtnZXRhdHRyKGZha2UsICd6aXBjb2RlJywgbGFtYmRhOiAnTi9BJykoKX1gXG4iCiAgICBmIvCfjI0gKkNvdW50cnk6KiBge2Zha2UuY3VycmVudF9jb3VudHJ5KCl9YFxuIgogICAgZiLwn5OeICpQaG9uZToqIGB7ZmFrZS5waG9uZV9udW1iZXIoKX1gXG4iCiAgICBmIuKcie+4jyAqRW1haWw6KiBge2Zha2UuZW1haWwoKX1gIgopCgogICAgICAgIGJvdC5yZXBseV90byhtZXNzYWdlLCBmYWtlX2RhdGEsIHBhcnNlX21vZGU9Ik1hcmtkb3duIikKCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgYm90LnJlcGx5X3RvKG1lc3NhZ2UsIGYiRXJyb3I6IHtlfSIpCiAgICAgICAg").decode())